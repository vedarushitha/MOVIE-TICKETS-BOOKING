<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Ticket Booking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to right, #ffdde1, #ee9ca7);
            color: #333;
            animation: fadeIn 2s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .seat { width: 50px; height: 35px; margin: 5px; text-align: center; cursor: pointer; border-radius: 5px; }
        .available { background-color: #28a745; color: white; }
        .selected { background-color: #ffc107; color: black; }
        .booked { background-color: #dc3545; color: white; cursor: not-allowed; }
        .page { display: none; }
        .active { display: block; }
        .movie-poster { width: 100px; height: 150px; cursor: pointer; }
        .btn-primary { background-color: #ff3366; border: none; }
    </style>
</head>
<body>
    <div class="container mt-5">
<div id="page1" class="page active text-center">
            <h2>Welcome to Movie Ticket Booking</h2>
            <p>Book your favorite movie tickets easily!</p>
            <button class="btn btn-primary" onclick="showPage('signupPage')">Sign In / Sign Up</button>
        </div>
        
        <div id="signupPage" class="page text-center">
            <h4>Sign Up</h4>
            <input type="text" id="userName" class="form-control mb-2" placeholder="Enter Name">
            <input type="text" id="userContact" class="form-control mb-2" placeholder="Enter Phone or Email">
            <button class="btn btn-secondary" onclick="generateOTP()">Get OTP</button>
            <div id="otpSection" class="mt-3" style="display: none;">
                <p>Your OTP: <span id="otpDisplay"></span></p>
                <input type="text" id="userOTP" class="form-control mb-2" placeholder="Enter OTP">
                <button class="btn btn-success" onclick="validateOTP()">Verify</button>
            </div>
        </div>

        <div id="page2" class="page">
            <h4>Select a Movie</h4>
            <div class="row">
                <div class="col-md-3" onclick="selectMovie('Avengers', 250)">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAiHs-ZLPsEzR1VoTQOjxFkN3R3-E1DgBg7g&s" class="movie-poster">
                    <p>Avengers - ₹250 (⭐ 8.5)</p>
                </div>
                <div class="col-md-3" onclick="selectMovie('Inception', 300)">
                    <img src="https://m.media-amazon.com/images/M/MV5BMjAxMzY3NjcxNF5BMl5BanBnXkFtZTcwNTI5OTM0Mw@@._V1_FMjpg_UX1000_.jpg" class="movie-poster">
                    <p>Inception - ₹300 (⭐ 8.8)</p>
                </div>
<div class="col-md-3" onclick="selectMovie(280, 'Titanic')">
                    <img src="https://m.media-amazon.com/images/M/MV5BYzYyN2FiZmUtYWYzMy00MzViLWJkZTMtOGY1ZjgzNWMwN2YxXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" class="movie-poster">
                    <p>Titanic - ₹280 (⭐ 7.9)</p>
                </div>
                <div class="col-md-3" onclick="selectMovie(260, 'Interstellar')">
                    <img src="https://m.media-amazon.com/images/M/MV5BYzdjMDAxZGItMjI2My00ODA1LTlkNzItOWFjMDU5ZDJlYWY3XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" class="movie-poster">
                    <p>Interstellar - ₹260 (⭐ 8.6)</p>
                </div>
                      <div class="col-md-3" onclick="selectMovie(500, 'Barbie')">
                    <img src="https://m.media-amazon.com/images/M/MV5BYjI3NDU0ZGYtYjA2YS00Y2RlLTgwZDAtYTE2YTM5ZjE1M2JlXkEyXkFqcGc@._V1_.jpg" class="movie-poster">
                    <p>Barbie - ₹500 (⭐ 8.6)</p>
                </div>
                  <div class="col-md-3" onclick="selectMovie(500, 'Conjuring')">
                    <img src="https://m.media-amazon.com/images/M/MV5BMTM3NjA1NDMyMV5BMl5BanBnXkFtZTcwMDQzNDMzOQ@@._V1_.jpg" class="movie-poster">
                    <p>Conjuring - ₹500 (⭐ 8.6)</p>
                </div>

            </div>
        </div>
        
        <div id="page3" class="page">
            <h4>Select Your Seats</h4>
            <div id="seatContainer" class="d-flex flex-wrap">
                <div class="seat available" onclick="toggleSeat(this)">1</div>
                <div class="seat available" onclick="toggleSeat(this)">2</div>
                <div class="seat available" onclick="toggleSeat(this)">3</div>
                <div class="seat available" onclick="toggleSeat(this)">4</div>
                <div class="seat available" onclick="toggleSeat(this)">5</div>
                <div class="seat available" onclick="toggleSeat(this)">6</div>
                <div class="seat available" onclick="toggleSeat(this)">7</div>
                <div class="seat available" onclick="toggleSeat(this)">8</div>
                <div class="seat available" onclick="toggleSeat(this)">9</div>
                <div class="seat available" onclick="toggleSeat(this)">10</div>
                <div class="seat available" onclick="toggleSeat(this)">11</div>
                <div class="seat available" onclick="toggleSeat(this)">12</div>
                <div class="seat available" onclick="toggleSeat(this)">13</div>
                <div class="seat available" onclick="toggleSeat(this)">14</div>
                <div class="seat available" onclick="toggleSeat(this)">15</div>
                <div class="seat available" onclick="toggleSeat(this)">16</div>
                <div class="seat available" onclick="toggleSeat(this)">17</div>
                <div class="seat available" onclick="toggleSeat(this)">18</div>
                <div class="seat available" onclick="toggleSeat(this)">19</div>
                <div class="seat available" onclick="toggleSeat(this)">20</div>
                <div class="seat available" onclick="toggleSeat(this)">21</div>
                <div class="seat available" onclick="toggleSeat(this)">22</div>
                <div class="seat available" onclick="toggleSeat(this)">23</div>
                <div class="seat available" onclick="toggleSeat(this)">24</div>
                <div class="seat available" onclick="toggleSeat(this)">25</div>
                <div class="seat available" onclick="toggleSeat(this)">26</div>
                <div class="seat available" onclick="toggleSeat(this)">27</div>
                <div class="seat available" onclick="toggleSeat(this)">28</div>
                <div class="seat available" onclick="toggleSeat(this)">29</div>
                <div class="seat available" onclick="toggleSeat(this)">30</div>
                <div class="seat available" onclick="toggleSeat(this)">31</div>
                <div class="seat available" onclick="toggleSeat(this)">32</div>
                <div class="seat available" onclick="toggleSeat(this)">33</div>
                <div class="seat available" onclick="toggleSeat(this)">34</div>
                <div class="seat available" onclick="toggleSeat(this)">35</div>
                <div class="seat available" onclick="toggleSeat(this)">36</div>
                <div class="seat available" onclick="toggleSeat(this)">37</div>
                <div class="seat available" onclick="toggleSeat(this)">38</div>
                <div class="seat available" onclick="toggleSeat(this)">39</div>
                <div class="seat available" onclick="toggleSeat(this)">40</div>
                <div class="seat available" onclick="toggleSeat(this)">41</div>
                <div class="seat available" onclick="toggleSeat(this)">42</div>


            </div>
            <button class="btn btn-primary mt-3" onclick="proceedToPayment()">Proceed to Payment</button>
        </div>
        
        <div id="page5" class="page">
            <h4>Payment Options</h4>
            <select id="paymentMethod" class="form-control mb-2" onchange="toggleUPIField()">
                <option value="Cash">Cash</option>
                <option value="UPI">UPI</option>
            </select>
            <div id="upiField" style="display: none;">
                <label for="upiId">Enter UPI ID:</label>
                <input type="text" id="upiId" class="form-control mb-2" placeholder="example@upi">
            </div>
            <input type="text" id="discountCode" class="form-control mb-2" placeholder="Enter Discount Code">
            <button class="btn btn-warning" onclick="applyDiscount()">Apply Discount</button>
            <button class="btn btn-success" onclick="confirmPayment()">Confirm Payment</button>
        </div>
    </div>

    <script>
        function generateOTP() {
            const otp = Math.floor(1000 + Math.random() * 9000);
            document.getElementById("otpDisplay").innerText = otp;
            document.getElementById("otpSection").style.display = "block";
            sessionStorage.setItem("generatedOTP", otp);
        }
        
        function validateOTP() {
            const enteredOTP = document.getElementById("userOTP").value;
            const generatedOTP = sessionStorage.getItem("generatedOTP");
            if (enteredOTP === generatedOTP) {
                alert("OTP Verified!");
                showPage('page2');
            } else {
                alert("Invalid OTP. Try again.");
            }
        }
        
        let selectedMovie = "";
        function selectMovie(movie, price) {
            selectedMovie = `${movie} - ₹${price}`;
            alert("You selected " + selectedMovie);
            showPage('page3');
        }
        
        function toggleSeat(seat) {
            if (seat.classList.contains("available")) {
                seat.classList.toggle("selected");
            }
        }
        
        function proceedToPayment() {
            showPage('page5');
        }
        
        function toggleUPIField() {
            let method = document.getElementById("paymentMethod").value;
            document.getElementById("upiField").style.display = method === "UPI" ? "block" : "none";
        }
        
        function applyDiscount() {
            let code = document.getElementById("discountCode").value;
            if (code === "DISCOUNT10") {
                alert("10% discount applied!");
            } else {
                alert("Invalid discount code");
            }
        }
        
        function confirmPayment() {
            let method = document.getElementById("paymentMethod").value;
            let upiId = document.getElementById("upiId").value;
            if (method === "UPI" && upiId === "") {
                alert("Please enter your UPI ID");
                return;
            }
            alert("Payment successful via " + method + "!");
        }
        
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }
    </script>
<div id="thankYouPage" class="page text-center">
            <h2>Thank You for Booking!</h2>
            <p>Your tickets have been successfully booked.</p>
            <p>Use this coupon for your next booking: <strong>NEW10</strong></p>
            <button class="btn btn-primary" onclick="showPage('signupPage')">Book Again</button>
        </div>
    </div>

    <script>
        function confirmPayment() {
            let method = document.getElementById("paymentMethod").value;
            let upiId = document.getElementById("upiId").value;
            let discountCode = document.getElementById("discountCode").value;
            let discountApplied = discountCode === "NEW10" ? "10% discount applied!" : "";
            
            if (method === "UPI" && upiId === "") {
                alert("Please enter your UPI ID");
                return;
            }
            alert("Payment successful via " + method + "! " + discountApplied);
            showPage('thankYouPage');
        }
    </script>
</body>
</html>